---
title: Planificació i edició de rutes
---

<script>
    import { Pencil, Route, Bike, TriangleAlert, ArrowRightLeft, Home, Repeat, Trash2, CirclePlay, SquareArrowUpLeft } from 'lucide-svelte';
    import DocsNote from '$lib/components/docs/DocsNote.svelte';
    import Routing from '$lib/components/toolbar/tools/routing/Routing.svelte';
    import DocsImage from '$lib/components/docs/DocsImage.svelte';
</script>

# <Pencil size="24" class="inline-block" style="margin-bottom: 5px" /> { title }

L'eina de planificació i edició de rutes permet crear i editar rutes col·locant o movent punts d'ancoratge en el mapa.

## Configuració

Com es mostra sota, el quadre de diàleg de l'eina conté algunes opcions per a controlar el comportament d'encaminament.
Pots minimitzar el quadre de diàleg per estalviar espai fent clic a<button><SquareArrowUpLeft size="16" class="inline-block" style="margin-bottom: 2px" /></button>.

<div class="flex flex-row justify-center">
    <Routing minimizable={false} class="text-foreground p-3 border rounded-md shadow-lg" />
</div>

### <Route size="16" class="inline-block" style="margin-bottom: 2px" /> Encaminador

Quan l'encaminador està habilitat, els punts d'ancoratge posats o moguts en el mapa es connectaran mitjançant una ruta calculada sobre la xarxa viària de <a href="https://www.openstreetmap.org" target="_blank">OpenStreetMap</a> xarxa de carreteres.
Deshabilita l'encaminador per tal de connectar punts d'ancoratge amb línies rectes.
Aquesta opció també es pot canviar clicant <kbd>F5</kbd>.

### <Bike size="16" class="inline-block" style="margin-bottom: 2px" /> Activitat

Selecciona el tipus d'activitat a la qual s'ajustaran les rutes.

### <TriangleAlert size="16" class="inline-block" style="margin-bottom: 2px" /> Permet camins privats

Quan està activat, l'encaminador tindrà en compte els camins privats quan calculi rutes.

<DocsNote type="warning">

Utilitza aquesta opció si coneixes la zona i tens permís per passar pels camins en qüestió.

</DocsNote>

## Traçat i edició de rutes

Crear una ruta o estendre'n una d'existent és tan simple com clicar sobre el mapa per col·locar un nou punt d'ancoratge.

També es pot arrossegar un punt d'ancoratge existent per reconduir el segment i connectar-lo amb l'anterior i amb el següent.

A més, es pot inserir punts nous d'ancoratge entre d'altres d'existents situant el cursor sobre el segment i arrossegant el punt d'ancoratge cap a la ubicació desitjada.
En dispositius tàctils, pots tocar sobre el segment per tal d'inserir un nou punt d'ancoratge.

<DocsNote>

En l'edició d'arxius GPX, es creen automàticament un conjunt inicial de punts d'ancoratge.
Per tal de facilitar el procés d'edició, com més ampliat sigui el mapa, més punts d'ancoratge es mostraran.
Això permet que la ruta sigui editada amb diferents nivells de detall.

</DocsNote>

Finalment, es poden eliminar punts d'ancoratge clicant sobre ells i seleccionant <button><Trash2 size="16" class="inline-block" style="margin-bottom: 4px" /> Eliminar</button> del menú contextual.

<DocsImage src="tools/routing" alt="Els punts d'ancoratge permeten editar una ruta fàcilment." />

## Eines addicionals

Les eines següents automatitzen algunes operacions comunes de modificació de rutes.

### <ArrowRightLeft size="16" class="inline-block" style="margin-bottom: 2px" /> Inverteix

Inverteix el sentit de la ruta.

### <Home size="16" class="inline-block" style="margin-bottom: 2px" /> Tornar a l'inici

Connecta l'últim punt de la ruta amb el punt d'inici, utilitzant la configuració de ruta escollida.

### <Repeat size="16" class="inline-block" style="margin-bottom: 2px" /> Ruta circular

Torna al punt d'inici per la mateixa ruta.

### <CirclePlay size="16" class="inline-block" style="margin-bottom: 2px" /> Canvia el punt d'inici de la volta

Quan el punt final de la ruta és suficientment a prop de l'inici, pots canviar l'inici de la volta clicant en qualsevol punt d'ancoratge i seleccionant <button><CirclePlay size="16" class="inline-block" style="margin-bottom: 2px" /> Iniciar volta aquí</button> des del menú contextual.
